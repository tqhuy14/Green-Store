<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Dashboard - SB Admin</title>
    <link th:href="@{/css/styles.css}" rel="stylesheet" />
    <script th:src="@{https://use.fontawesome.com/releases/v6.3.0/js/all.js}" crossorigin="anonymous"></script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js}" crossorigin="anonymous"></script>
    <script th:src="@{/js/scripts.js}"></script>
    <link th:href="@{/css/table.css}" rel="stylesheet"/>
    <link th:href="@{/css/createform.css}" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css}"/>
</head>
<body class="sb-nav-fixed">
<header th:replace="layout/header :: header"></header>

<div id="layoutSidenav">
    <div th:replace="layout/nav :: nav"></div>
    <div id="layoutSidenav_content">
        <main class="mt-4">
            <div style="width: 45%; margin: 0 auto;" class="shadow border-dark">
                <h3 style="background: #198754; text-align: center; color: white; font-family: Serif; line-height: 50px;">
                    Chỉnh Sửa Sự Kiện
                </h3>

                <form th:action="@{'/events/' + ${eventID} + '/edit'}" th:object="${event}" method="post" role="form" class="form-inline mb-4">

                    <div th:if="${info1 == 'success'}" id="notification" class="form-group notification success" style="padding: 15px 15px; position: relative; border: 1px solid darkslategray">
                        <strong style="color: #1a1e21">Sự kiện đã được cập nhật thành công!</strong>
                        <span style="margin-left: 3px"><a th:href="@{/events}">Trở về</a></span>
                        <button type="button" class="btn-close" aria-label="Close" onclick="this.parentElement.style.display='none';" style="position: absolute; top: 15px; right: 10px;"></button>
                    </div>

                    <input name="Id" th:value="${event.id}" hidden>

                    <div class="form-group" style="padding-top: 20px; margin-bottom: 0 ">
                        <label for="name">Tên sự kiện :</label>
                        <input type="text" id="name" name="name" class="form-control ml-2" th:value="${event.name}" required>
                        <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger"></span>
                    </div>

                    <div class="form-group" style="padding-top: 20px; margin-bottom: 0 ">
                        <label for="dateBegin">Ngày bắt đầu :</label>
                        <input type="datetime-local" id="dateBegin" name="dateBegin" class="form-control ml-2" th:value="${event.dateBegin}" required>
                        <span th:if="${#fields.hasErrors('dateBegin')}" th:errors="*{dateBegin}" class="text-danger"></span>
                    </div>

                    <div class="form-group" style="padding-top: 20px; margin-bottom: 0 ">
                        <label for="dateEnd">Ngày kết thúc :</label>
                        <input type="datetime-local" id="dateEnd" name="dateEnd" class="form-control ml-2" th:value="${event.dateEnd}" required>
                        <span th:if="${#fields.hasErrors('dateEnd')}" th:errors="*{dateEnd}" class="text-danger"></span>
                    </div>

                    <div class="form-group" style="padding-top: 20px; margin-bottom: 0">
                        <label for="sale">Giảm giá (%) :</label>
                        <input type="number" id="sale" name="sale" class="form-control ml-2" th:value="${event.sale}" required>
                        <span th:if="${#fields.hasErrors('sale')}" th:errors="*{sale}" class="text-danger"></span>
                    </div>

                    <div style="display: flex; justify-content: center">
                        <div class="form-group" style="padding-top: 20px; width: 190px; margin-right: 10px">
                            <label for="soLuongCanMuaDeNhan">Mua :</label>
                            <input type="text" id="soLuongCanMuaDeNhan" name="soLuongCanMuaDeNhan" class="form-control ml-2" th:value="${event.soLuongCanMuaDeNhan}" required>
                            <span th:if="${#fields.hasErrors('soLuongCanMuaDeNhan')}" th:errors="*{soLuongCanMuaDeNhan}" class="text-danger"></span>
                        </div>

                        <div class="form-group" style="padding-top: 20px; width: 190px; margin-left: 10px">
                            <label for="soLuongNhan">Tặng :</label>
                            <input type="text" id="soLuongNhan" name="soLuongNhan" class="form-control ml-2" th:value="${event.soLuongNhan}" required>
                            <span th:if="${#fields.hasErrors('soLuongNhan')}" th:errors="*{soLuongNhan}" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group" style="padding-bottom: 40px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <button type="submit" class="btn btn-success shadow">Cập nhật</button>
                        <a class="btn btn-secondary shadow" th:href="@{/events}">Hủy</a>
                    </div>
                </form>
            </div>
        </main>
        <footer th:replace="layout/footer :: footer"></footer>
    </div>
</div>

</body>
</html>
